# 프로세스(Process)에 관하여..

프로세스를 설명 하고자 하면 프로그램을 먼저 설명해야 한다.

프로그램 이란? : 하드 또는 sdd 와 같은 보조 기억장치에 저장 되어 있는 실행 코드를 의미한다. (정적 파일)

프로세스는 이런 프로그램의 실행코드가 메모리에 적제 되고, cpu로 부터 자원을 할당 받을 수 있는 상태, 즉 실행 상태인 프로그램을 의미 한다.

이런 프로세스가 메모리에 적재 됨과 동시에 PCB를 생성한다. 이 Process Control Block에는 프로세스의 대한 정보들이 저장 

(프로세스 식별번호, 프로세스의 상태(ready, waiting, running), 프로그램 카운터, 스케쥴링 우선순위 등등) 된다.

이런 pcb는 메모리에 적재되는데 영역은 코드영역, 데이터영역(전역변수,static), 스택영역(지역변수), 힙 영역(동적 할당) 으로 나뉜다 볼 수 있다.

이런 프로세스를 실행 시키는 흐름을 스레드라 볼 수 있다.

프로세스 안에는 1개 이상의 스레드 즉 실행 흐름이 존재한다.

# 스레드에 대하여

스레드를 설명하기에 앞서 프로세서 즉, cpu에 대해 알아보자

cpu는 Central Processing unit이다. 가운데 processing에서 보듯 프로세스 안에 있는 실행 코드를 직접 실행, 즉 연산하는 역할을 한다.

cpu는 연산 영역, 제어영역, 레지스터 영역으로 나누어 볼 수 있다. 프로세서는 최소한 한개이상의 ALU(Arithmetic logical unit) 과 처리 레지스터를 가진다.

ALU는 말 그래도 논리곱, 논리합, XOR 연산등을 연산하는 역할을 한다.

레지스터는 영어 단어 그대로 연산된 데이터, 주소 등을 등록, 저장하는 역할을 한다고 보면 될 것 같다.

이러한 처리에 대한 흐름을 스레드라고 볼 수 있다.

스래드란? 프로세스를 실행하는 작업 단위라고도 볼 수 있을 것 같다.

하나의 프로세스 안에는 여러개의 스레드 즉 멀티스레드가 존재할 수 있는데, 이 스레드들은 PCB에 있는 데이터 영역들을 공유하게 된다.

이는 멀티 스레딩의 강점이기도 하다. 데이터 영역을 공유함으로 인해 스레드의 컨텍스트 스위칭 비용이 프로세스의 컨텍스트 스위칭 비용보다 훨씬 적게 들어가게 된다.(즉, 속도가 빠르다)

스레드는 스레드 ID, 프로그램 카운터, 레지스터 집합, 그리고 스택으로 구성된다.

스레드의 스택에는 함수 호출시 전달되는 파라미터, 되돌아갈 주소 값, 그리고 함수에서 선언된 지역변수 등이 선언된 곳이다. 즉 독립적인 실행흐름을 가질 수 있다.

또한 스택에는 PC 레지스터가 독립적으로 할당되어 있는데 이 PC 값은 프로그램이 어디 까지 수행 되었는지에 대한 정보이다. 스레드는 CPU를 할당 받았다가 스케줄러에 의해 다시 선점 당한다

이때 PC 레지스터에 값에 어디 까지 수행되었는지를 저장해놓고, 다시 CPU 할당이 이루어 졌을 때 다시 실행흐름을 가져간다.


